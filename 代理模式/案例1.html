<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>小明送花</title>
</head>
<body>
<script>
var Flower = function() {

};
var xiaoming = {
  sendFlower: function(target) {
    var flower = new Flower();
    target.receiveFlower(flower);
  }
};
var B = {
  receiveFlower: function(flower) {
    alert('b');
    A.listenGoodMoon(function() {
      A.receiveFlower(flower);
    })
  }
};
var A = {
  receiveFlower: function(flower) {
    console.log('收到' + flower);
  },
  listenGoodMoon: function(fn) {
    setTimeout(function() {
      fn();
    }, 1000)
  }
};
xiaoming.sendFlower(B);
</script>
</body>
</html>
